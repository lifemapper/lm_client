
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Tutorial &#8212; Lifemapper Client Library 1.0.0 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Contributing" href="contributing.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="contributing.html" title="Contributing"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Lifemapper Client Library 1.0.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tutorial">
<h1>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h1>
<p>This tutorial provides some examples for performing basic tasks using the
Lifemapper service APIs via the client library.</p>
<div class="toctree-wrapper compound">
</div>
<hr class="docutils" />
<div class="section" id="create-a-client-instance-and-authenticate">
<h2>Create a client instance and authenticate<a class="headerlink" href="#create-a-client-instance-and-authenticate" title="Permalink to this headline">¶</a></h2>
<p>The first task you will need to perform is to create an instance and you will
most likely want to authenticate.</p>
<blockquote>
<div><div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">lm_client.client.client</span> <span class="k">import</span> <span class="n">LmApiClient</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cl</span> <span class="o">=</span> <span class="n">LmApiClient</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cl</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s1">&#39;my_user&#39;</span><span class="p">,</span> <span class="s1">&#39;my_password&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</div>
<hr class="docutils" />
<div class="section" id="upload-data">
<h2>Upload Data<a class="headerlink" href="#upload-data" title="Permalink to this headline">¶</a></h2>
<p>For experiments using your own data, you will first need to upload those data
objects.  See: <a class="reference external" href="../source/lm_client.apis.html#module-lm_client.apis.upload">Upload docs</a>.</p>
<div class="section" id="upload-biogeographic-hypotheses">
<h3>Upload biogeographic hypotheses<a class="headerlink" href="#upload-biogeographic-hypotheses" title="Permalink to this headline">¶</a></h3>
<p>Biogeographic hypotheses are a collection of shapefiles representing historical
biogeography that may potentially effect distribution of species.  These
uploads should be zipped together into one file and each hypothesis should have
an additional JSON metadata file describing the hypothesis that has the same
name as the other files for the shapefile but with a .json extension.  The file
should be in the format:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>{
    “description” : “A description of the hypothesis”,
    “author” : “The author of the shapefile”,
    “title” : “A title of this hypothesis”,
    “citation” : “A citation if applicable”,
    “bbox” : [min x, min y, max x, max y]
}
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">lm_client.client.client</span> <span class="k">import</span> <span class="n">LmApiClient</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cl</span> <span class="o">=</span> <span class="n">LmApiClient</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cl</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s1">&#39;my_user&#39;</span><span class="p">,</span> <span class="s1">&#39;my_password&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cl</span><span class="o">.</span><span class="n">upload</span><span class="o">.</span><span class="n">biogeographic_hypotheses</span><span class="p">(</span><span class="n">hypothesis_zip_filename</span><span class="p">,</span> <span class="s1">&#39;my_hypotheses&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="upload-occurrence-data">
<h3>Upload occurrence data<a class="headerlink" href="#upload-occurrence-data" title="Permalink to this headline">¶</a></h3>
<p>Occurrence data uploads are single CSV files with occurrence points for one or
more species.  The occurrences for each species should be grouped together in
contiguous lines.  Along with the CSV file, JSON metadata describing it should
be uploaded as well.  This metadata file should be in the following format
(found at: <a class="reference external" href="http://lifemapper.github.io/api.html?url=/assets/yaml/lmV2.yml#/definitions/OccurrenceMetadata">http://lifemapper.github.io/api.html?url=/assets/yaml/lmV2.yml#/definitions/OccurrenceMetadata</a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;field&quot;</span> <span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;key&quot;</span> <span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="c1"># The original name in the CSV header, or column index (zero-based)</span>
            <span class="s2">&quot;shortName&quot;</span> <span class="p">:</span> <span class="s2">&quot;10charname&quot;</span><span class="p">,</span> <span class="c1"># Short name for the field, 10 characters or less</span>
            <span class="s2">&quot;fieldType&quot;</span> <span class="p">:</span> <span class="s2">&quot;type&quot;</span> <span class="c1"># Type of the field (integer, real, string)</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;role&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;groupBy&quot;</span> <span class="p">:</span> <span class="s2">&quot;taxon&quot;</span><span class="p">,</span> <span class="c1"># Field used to group data</span>
        <span class="s2">&quot;latitude&quot;</span> <span class="p">:</span> <span class="s2">&quot;lat&quot;</span><span class="p">,</span> <span class="c1"># Field representing latitude</span>
        <span class="s2">&quot;longitude&quot;</span> <span class="p">:</span> <span class="s2">&quot;long&quot;</span><span class="p">,</span> <span class="c1"># Field representing longitude</span>
        <span class="s2">&quot;taxaName&quot;</span> <span class="p">:</span> <span class="s2">&quot;taxon&quot;</span><span class="p">,</span> <span class="c1"># Field with taxon information</span>
        <span class="s2">&quot;uniqueId&quot;</span> <span class="p">:</span> <span class="s2">&quot;id&quot;</span>  <span class="c1"># Field representing unique id for each occurrence</span>
    <span class="p">},</span>
    <span class="s2">&quot;delimiter&quot;</span> <span class="p">:</span> <span class="s2">&quot;,&quot;</span> <span class="c1"># Delimiter between fields in each line</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">lm_client.client.client</span> <span class="k">import</span> <span class="n">LmApiClient</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cl</span> <span class="o">=</span> <span class="n">LmApiClient</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cl</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s1">&#39;my_user&#39;</span><span class="p">,</span> <span class="s1">&#39;my_password&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cl</span><span class="o">.</span><span class="n">upload</span><span class="o">.</span><span class="n">occurrence</span><span class="p">(</span><span class="n">my_occurrence_csv_filename</span><span class="p">,</span> <span class="n">occ_metadata_json_filename</span><span class="p">,</span> <span class="s1">&#39;my_occ_data&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="upload-a-phylogenetic-tree">
<h3>Upload a phylogenetic tree<a class="headerlink" href="#upload-a-phylogenetic-tree" title="Permalink to this headline">¶</a></h3>
<p>For many multi-species analyses, you will need a phylogenetic tree.  This call
allows you to upload a tree that you have locally.  Note that there are other
options for retrieving a phylogenetic tree from Open Tree of Life in your
experiment.  Trees should be in Newick, Nexus, or PhyloXML format.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">lm_client.client.client</span> <span class="k">import</span> <span class="n">LmApiClient</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cl</span> <span class="o">=</span> <span class="n">LmApiClient</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cl</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s1">&#39;my_user&#39;</span><span class="p">,</span> <span class="s1">&#39;my_password&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cl</span><span class="o">.</span><span class="n">upload</span><span class="o">.</span><span class="n">tree</span><span class="p">(</span><span class="n">my_tree_filename</span><span class="p">,</span> <span class="s1">&#39;my_tree_name&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="get-a-sdm-projection-map">
<h2>Get a SDM projection map<a class="headerlink" href="#get-a-sdm-projection-map" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="submit-a-new-experiment">
<h2>Submit a new experiment<a class="headerlink" href="#submit-a-new-experiment" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="get-an-open-tree-tree">
<h2>Get an Open Tree tree<a class="headerlink" href="#get-an-open-tree-tree" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="get-accepted-taxon-ids-from-gbif">
<h2>Get accepted taxon ids from GBIF<a class="headerlink" href="#get-accepted-taxon-ids-from-gbif" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="find-global-pam-matches">
<h2>Find global pam matches<a class="headerlink" href="#find-global-pam-matches" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="subset-a-global-pam">
<h2>Subset a Global PAM<a class="headerlink" href="#subset-a-global-pam" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="installation.html"
                        title="previous chapter">Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="contributing.html"
                        title="next chapter">Contributing</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="contributing.html" title="Contributing"
             >next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Lifemapper Client Library 1.0.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Lifemapper Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.7.
    </div>
  </body>
</html>